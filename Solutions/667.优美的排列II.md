# [667.优美的排列II](https://leetcode.cn/problems/beautiful-arrangement-ii/)

给你两个整数 `n` 和 `k` ，请你构造一个答案列表 `answer` ，该列表应当包含从 `1` 到 `n` 的 `n` 个不同正整数，并同时满足下述条件：

- 假设该列表是 `answer = [a1, a2, a3, ... , an]` ，那么列表 `[|a1 - a2|, |a2 - a3|, |a3 - a4|, ... , |an-1 - an|]` 中应该有且仅有 `k` 个不同整数。

返回列表 `answer` 。如果存在多种答案，只需返回其中 **任意一种** 。

**示例 1：**

```
输入：n = 3, k = 1
输出：[1, 2, 3]
解释：[1, 2, 3] 包含 3 个范围在 1-3 的不同整数，并且 [1, 1] 中有且仅有 1 个不同整数：1
```

**示例 2：**

```
输入：n = 3, k = 2
输出：[1, 3, 2]
解释：[1, 3, 2] 包含 3 个范围在 1-3 的不同整数，并且 [2, 1] 中有且仅有 2 个不同整数：1 和 2
```

**提示：**

- `1 <= k < n <= 10^4`

**Related Topics**

- 数组
- 数学

---

## 题目分析

优美的队列，优美在哪呢？

优美在每两个相邻的数之间的差，只有k个同的整数

假设一个队列长 `n`，那么其 `[|a1 - a2|, |a2 - a3|, |a3 - a4|, ... , |an-1 - an|]`总共有 `n-1` 个数

而这 **n-1** 个数中只有 **k**个**不同的数**

---

## 解题思路

题目对数组中的元素并没有什么限制，也就是可以为任何数

那么这里我们从切实的角度出发

使我们 **k个不同的数**就是**从1到k，这k个数**，即：`1,2,3,...k-1,k`

**同时使用`k+1`个元素实现，即这`k+1`个数的每一个差都不同**

要实现起来其实也很简单，对他们进行交替放置即可

- **奇数位从1开始递增**
- **偶数位从k+1开始递减**
- 即：`1,k+1,2,k,3,k-1,...k/2`

举一个例子，令`k=6`

- `1,7,2,6,3,5,4`
- 他们只差为：`6,5,4,3,2,1`

**到此为止，我们已经使用k+1个数实现了k个不同的差**

剩下还有`n-k-1`个数，**使用单调递增的数填充即可**

---

## 对应代码

```java
class Solution {
    public int[] constructArray(int n, int k) {
        // 结果数组中只包括1到n
        int[] ans = new int[n];
        // 数组中前k个数字进行交替放置，达到k个不同差
        for (int i = 0, low = 1, high = k + 1; i <= k; i++) {
            // 奇数位从1开始递增，偶数位从k+1开始递减
            if ((i & 1) == 0) {
                ans[i] = low++;
            }
            else {
                ans[i] = high--;
            }
        }
        // 剩下的递增填充，填充数字差都只有1，而在上面交替的部分已经存在过1
        for (int i = k + 1; i < n; i++) {
            ans[i] = i + 1;
        }
        return ans;
    }
}
```

---

## 最后

这样的题目乍一看其实挺难想到思路的，但只要思路明确，做起来还是挺容易的。

